# 성장 & 레벨업 시스템

> [← 기획 총괄로 돌아가기](./overview.md)

---

## 개요

Bone-To-Peak의 성장은 두 축으로 구성된다.

1. **인게임 성장**: 한 런 안에서의 레벨업과 스킬 선택
2. **메타 진행**: 런 간 누적되는 영구 강화와 언락

---

## 인게임 성장

### 경험치 & 레벨업

- 적 처치 시 경험치 구슬 드롭
- 네크로맨서가 구슬에 접근하면 자동 수집 (수집 범위: 2 유닛)
- 경험치가 차면 레벨업, **게임이 일시정지**되고 3개 선택지 제시

### 레벨업 필요 경험치

| 레벨  | 필요 경험치         | 누적 |
| ----- | ------------------- | ---- |
| 1 → 2 | 10                  | 10   |
| 2 → 3 | 15                  | 25   |
| 3 → 4 | 22                  | 47   |
| 4 → 5 | 30                  | 77   |
| 5 → 6 | 40                  | 117  |
| 이후  | 이전 × 1.3 (반올림) | —    |

### 레벨업 선택지

레벨업 시 3개의 선택지가 랜덤으로 제시된다. 각 선택지는 아래 카테고리에서 추출된다.

#### 카테고리 A: 네크로맨서 강화

| 선택지         | 효과                         | 출현 가중치 |
| -------------- | ---------------------------- | ----------- |
| 체력 강화      | HP 최대치 +20                | 10          |
| 속도 강화      | 이동속도 +0.5                | 8           |
| Corpse 확장    | Corpse 수용량 +5             | 7           |
| 수집 범위 확대 | Corpse/경험치 수집 범위 +0.5 | 8           |
| 방어 강화      | 방어력 +3                    | 6           |

#### 카테고리 B: 소환 강화

| 선택지         | 효과                                    | 출현 가중치      |
| -------------- | --------------------------------------- | ---------------- |
| 소환 슬롯 확장 | 소환 슬롯 +1                            | 5 (최대 10슬롯)  |
| 소환 가속      | 소환 쿨타임 -0.3초                      | 7                |
| 새 미니언 해금 | 다음 티어 미니언 소환 가능              | 3 (해금 가능 시) |
| 소환 할인      | 모든 소환 Corpse 비용 -1 (최소 1)       | 4                |
| 자동 소환      | 가장 최근 미니언을 쿨타임마다 자동 소환 | 2 (1회 한정)     |

#### 카테고리 C: 군단 버프

| 선택지        | 효과                               | 출현 가중치  |
| ------------- | ---------------------------------- | ------------ |
| 공격력 증가   | 전체 미니언 공격력 +10%            | 10           |
| 공격속도 증가 | 전체 미니언 공격속도 +10%          | 8            |
| 생존력 증가   | 전체 미니언 HP +15%                | 8            |
| 이동속도 증가 | 전체 미니언 이동속도 +10%          | 6            |
| 뱀파이릭      | 미니언 공격 시 데미지의 5% HP 회복 | 3 (1회 한정) |

### 선택지 생성 규칙

- 3개의 선택지는 **서로 다른 카테고리**에서 1개씩 추출
- 가중치가 높을수록 출현 확률이 높음
- 이미 최대치에 도달한 선택지는 풀에서 제외
- "1회 한정" 선택지는 선택 후 풀에서 영구 제거

---

## 스킬 트리 구조

스킬 트리는 3개의 경로로 분기한다. 레벨업 선택을 통해 특정 경로에 집중할 수 있다.

### 경로 1: 군주의 길 (Legion Path)

미니언 수량 극대화에 집중한다.

```
소환 슬롯 +1
    │
    ├── 소환 쿨타임 -30%
    │       │
    │       └── 자동 소환
    │
    └── 미니언 소환 비용 -1
            │
            └── 소환 시 쌍둥이 (50% 확률로 2마리 소환)
```

### 경로 2: 지배자의 길 (Domination Path)

미니언 개별 전투력 극대화에 집중한다.

```
미니언 공격력 +15%
    │
    ├── 미니언 공격속도 +20%
    │       │
    │       └── 크리티컬 (미니언 공격 시 20% 확률 2배 피해)
    │
    └── 미니언 HP +25%
            │
            └── 뱀파이릭 (공격 피해의 5% HP 회복)
```

### 경로 3: 사령관의 길 (Commander Path)

네크로맨서 자체 능력과 유틸리티를 강화한다.

```
Corpse 수용량 +10
    │
    ├── Explode 데미지 +50%
    │       │
    │       └── Explode 쿨타임 -50%
    │
    └── 수집 범위 ×2
            │
            └── 자동 수집 (화면 내 Corpse 자동 흡수)
```

> 각 경로는 배타적이지 않다. 여러 경로를 혼합 선택할 수 있으나, 한 경로에 집중할수록 최종 스킬의 시너지가 강해진다.

---

## 메타 진행 (런 간 영구 강화)

### 네크로 코인 (Necro Coin)

- 매 런 종료 시 **생존 시간** 및 **처치 수**에 비례하여 네크로 코인 획득
- 네크로 코인은 영구 강화에 사용

### 획득량 공식

```
네크로 코인 = (생존 시간(초) × 0.5) + (처치 수 × 0.1) + (보스 처치 수 × 10)
```

### 영구 강화 목록

| 강화            | 단계 | 단계별 비용              | 효과                 |
| --------------- | ---- | ------------------------ | -------------------- |
| 시작 HP 증가    | 5    | 10 / 20 / 40 / 80 / 160  | 시작 HP +10 (단계당) |
| 시작 슬롯 증가  | 3    | 30 / 60 / 120            | 시작 소환 슬롯 +1    |
| 시작 Corpse     | 3    | 15 / 30 / 60             | 런 시작 시 Corpse +3 |
| 경험치 보너스   | 5    | 20 / 40 / 80 / 160 / 320 | 경험치 획득량 +10%   |
| Corpse 자석     | 3    | 25 / 50 / 100            | 수집 범위 +0.5       |
| 네크로맨서 방어 | 5    | 15 / 30 / 60 / 120 / 240 | 방어력 +2            |

---

## 언락 시스템

### 미니언 언락

게임 시작 시 T1 스켈레톤 워리어만 소환 가능하다. 나머지 미니언은 특정 조건을 달성하면 영구 언락된다.

| 미니언             | 언락 조건                                   |
| ------------------ | ------------------------------------------- |
| 좀비 (T1)          | 적 50마리 처치 (누적)                       |
| 스켈레톤 아처 (T1) | 웨이브 3 도달                               |
| 그래브 나이트 (T2) | Refine 1회 성공                             |
| 레이스 (T2)        | 웨이브 5 도달                               |
| 본 골렘 (T2)       | 좀비 10마리 소환 (누적)                     |
| 데스 나이트 (T3)   | 그래브 나이트 + 레이스 보유 상태에서 Refine |
| 본 드래곤 (T3)     | 웨이브 10 도달                              |
| 리치 (T3)          | 레이스 5마리 소환 (누적)                    |

### 기능 언락

| 기능                       | 언락 조건              |
| -------------------------- | ---------------------- |
| Refine (합성)              | 웨이브 3 최초 도달     |
| Explode (폭발)             | 웨이브 5 최초 도달     |
| Aggressive Charge 포메이션 | 미니언 5마리 동시 소환 |
| Circular Guard 포메이션    | 보스 1회 처치          |

---

## 난이도 스케일링

### 반복 플레이 난이도 (Ascension)

최종 보스(웨이브 20)를 클리어하면 **Ascension 레벨**이 해금된다.

| Ascension | 효과                                                   |
| --------- | ------------------------------------------------------ |
| 1         | 적 HP +20%, 적 공격력 +10%                             |
| 2         | 적 HP +40%, 적 이동속도 +10%, 엘리트 출현 웨이브 3부터 |
| 3         | 적 HP +70%, 적 공격력 +30%, 보스 패턴 강화             |
| 4         | 적 HP +100%, 모든 스탯 +50%, 웨이브 간 휴식 5초로 단축 |
| 5         | 적 HP +150%, 적 공격력 +80%, 휴식 없음, 보스 동시 출현 |

### 설계 의도

- Ascension은 핵심 플레이어를 위한 콘텐츠
- 영구 강화를 최대로 올려도 Ascension 5는 극도로 어렵게 설계
- 각 Ascension 클리어 시 특별 보상 (코스메틱, 칭호 등)
